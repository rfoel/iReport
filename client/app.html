<head>
    <title>iReport</title>
</head>

<template name="mainLayout">
    <body>
        <header>
            <nav>
                <div class="nav-wrapper container">
                    <a href="/" class="brand-logo">iReport</a>
                    <a data-activates="mobile-nav" class="button-collapse"><i class="material-icons">menu</i></a>
                    <ul class="right hide-on-med-and-down">
                        {{#if currentUser}}
                        <li class="{{isActiveRoute 'reports'}}"><a href="/reports"><i class="material-icons">description</i></a></li>
                        <li class="{{isActiveRoute 'new_report'}}"><a href="/new_report"><i class="material-icons">note_add</i></a></li>
                        <li><a class="dropdown-button" data-activates="dropdown-profile">@{{currentUser.profile.name}}<i class="material-icons right">arrow_drop_down</i></a></li>
                        <ul id='dropdown-profile' class='dropdown-content'>
                            <li><a href="#!">Meu perfil</a></li>
                            <li class="divider"></li>
                            <li><a href="/logout">Logout</a></li>
                        </ul>
                        {{else}}
                        <li class="{{isActiveRoute 'login'}}"><a href="/login">Login</a></li>
                        {{/if}}
                    </ul>
                    <ul class="side-nav" id="mobile-nav">
                        {{#if currentUser}}
                        <li class="{{isActiveRoute 'reports'}}"><a href="/reports">Relatórios</a></li>
                        <li class="{{isActiveRoute 'new_report'}}"><a href="/new_report">Novo relatório</a></li>
                        <li class="divider"></li>
                        <li><a href="#!">Meu perfil</a></li>
                        <li><a href="/logout">Logout</a></li>
                        {{else}}
                        <li  class="{{isActiveRoute 'login'}}"><a href="/login">Login</a></li>
                        {{/if}}
                    </ul>
                </div>
            </nav>
        </header>

        <main class="container">
            {{>Template.dynamic template=content}}
        </main>

        <footer class="page-footer">
            <div class="container">
                <div class="row">
                    <div class="col l6 s12">
                        <h5 class="white-text">Footer Content</h5>
                        <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p>
                    </div>
                    <div class="col l4 offset-l2 s12">
                        <h5 class="white-text">Links</h5>
                        <ul>
                            <li><a class="grey-text text-lighten-3" href="#!">Link 1</a></li>
                            <li><a class="grey-text text-lighten-3" href="#!">Link 2</a></li>
                            <li><a class="grey-text text-lighten-3" href="#!">Link 3</a></li>
                            <li><a class="grey-text text-lighten-3" href="#!">Link 4</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-copyright">
                <div class="container">
                    © 2016 Rafael Franco
                    <a class="grey-text text-lighten-4 right" href="https://gitlab.com/u/rfoel"><i class="fa fa-gitlab fa-2x" aria-hidden="true"></i></a>
                    <a class="grey-text text-lighten-4 right" href="https://github.com/rfoel"><i class="fa fa-github fa-2x" aria-hidden="true"></i></a>
                </div>
            </div>
        </footer>

        {{> sAlert}}
    </body>

</template>

<template name="blogHome">
    <p>This is the home page of our blog</p>
    <p>
        <a href="/hello-world">See Hello World Post</a>
    </p>
</template>

<template name="login">
    <div class="row center-align">
        <div class="col s12 m4 offset-m1">
            <div class="row">
                <h5 class="">Já possui cadastro? Faça login.</h5>
            </div>
            <div class="z-depth-1 grey lighten-5 row container-box">
                <form id="login-form" action="action">
                    <div class="row left-align">                    
                        <div class="input-field col s12">
                            <input id="login_email" name="login_email" type="email" required>
                            <label for="login_email">Email</label>
                        </div>
                    </div>
                    <div class="row left-align">
                        <div class="input-field col s12">
                            <input id="login_password" name="login_password" type="password" required>
                            <label for="login_password">Senha</label>
                        </div>
                    </div>
                    <div class="row right-align">
                        <label>
                            <a class='pink-text' href='#!'>Esqueceu a senha?</a>
                        </label>
                    </div>
                    <div class="row">
                        <button id="login-button" class="btn waves-effect" type="submit" name="action">Entrar</button>
                    </div>
                </form> 
            </div>
        </div>
        <div class="col s12 m4 offset-m2">
            <div class="row">
                <h5 class="">Não possui cadastro? Cadastre-se.</h5>
            </div>
            <div class="z-depth-1 grey lighten-5 row container-box">
                <form id="register-form" action="action">
                    <div class="row left-align">                    
                        <div class="input-field col s12">
                            <label for="name">Nome</label>
                            <input id="name" name="name" type="text" required>
                        </div>
                    </div>
                    <div class="row left-align">                    
                        <div class="input-field col s12">
                            <input id="surname" name="surname" type="text" required>
                            <label for="account-surname">Sobrenome</label>
                        </div>
                    </div>
                    <div class="row left-align">                    
                        <div class="input-field col s12">
                            <input id="email" name="email" type="email" required>
                            <label for="email">Email</label>
                        </div>
                    </div>
                    <div class="row left-align">
                        <div class="input-field col s12">
                            <input id="password" name="password" type="password" required>
                            <label for="password">Senha</label>
                        </div>
                    </div>
                    <div class="row left-align">
                        <div class="input-field col s12">
                            <input id="confirm_password" name="confirm_password" type="password" required>
                            <label for="confirm_password">Confirmar senha</label>
                        </div>
                    </div>
                    <div class="row">
                        <button id="create-account" class="btn waves-effect" type="submit" name="action">Registrar</button>
                    </div>
                </form> 
            </div>
        </div>
    </div>
</template>

<template name="reports">
    <table class="highlight bordered">
        <thead>
            <tr>
                <th data-field="id">Name</th>
                <th data-field="name">Item Name</th>
                <th data-field="price">Item Price</th>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>Alvin</td>
                <td>Eclair</td>
                <td>$0.87</td>
            </tr>
            <tr>
                <td>Alan</td>
                <td>Jellybean</td>
                <td>$3.76</td>
            </tr>
            <tr>
                <td>Jonathan</td>
                <td>Lollipop</td>
                <td>$7.00</td>
            </tr>
        </tbody>
    </table>
</template>

<template name="new_report">
    <h1>Nothing</h1>
</template>